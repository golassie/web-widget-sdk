const { writeFileSync } = require("fs")
const { version } = require("../package.json")
const { stdout } = process

const script = `bin/${__filename.slice(__dirname.length + 1)}`
const file = "src/version.ts"
const contents = `/**
 * This file is auto generated by ${script}
 *
 * DO NOT MODIFY
 */

export const sdkVersion = "${version}"
`

stdout.write(`Writing content to ${file} ... `)
writeFileSync(file, contents)
stdout.write("done\n")
